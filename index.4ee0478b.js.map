{"mappings":"AAAiBA,SAASC,cAAc,WCGxC,MAGMC,EAAYF,SAASC,cAAc,iBAEnCE,EAAUH,SAASC,cAAc,aACjCG,EAAUJ,SAASC,cAAc,WACjCI,EAAYL,SAASC,cAAc,UAEzC,SAASK,EAAUC,GACjBA,EAAOC,UAAUC,IAAI,U,CAGvB,SAASC,EAAUH,GACjBA,EAAOC,UAAUG,OAAO,U,CAM1B,SAASC,EAAQC,GACf,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,MAAMJ,GACHK,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBL,EAAOX,EAEe,IAGzBa,MAAKI,IACJP,EAAQO,EAAK,IAEdC,OAAMC,GAAOR,EAAOQ,IAAK,G,CAhBhClB,EAAUF,GACVE,EAAUD,GAoBRO,EArCA,qHAqCmBM,MAAKI,IACtB,MAAMG,EAAaH,EAChBI,KAAIC,GAAW,kBAAkBA,EAAQC,OAAOD,EAAQE,kBACxDC,KAAK,IACR5B,EAAU6B,mBAAmB,aAAcN,EAAW,IAoC1DvB,EAAU8B,iBAAiB,UAV3B,SAA0BC,GArB1B,IAAyBC,EAsBvB5B,EAAUD,GACVK,EAAUN,GACVD,EAAQgC,UAAY,GAtBpBvB,EADe,wDADQsB,EAyBPD,EAAEG,OAAOC,SAtBtBnB,MAAKI,IACJ,MAAMgB,EAAc,kBAAkBhB,EAAK,GAAGT,+BAC9CV,EAAQ4B,mBAAmB,aAAcO,EAAY,IAEtDf,OAAMC,IACLd,EAAUL,EAAU,IAGxBO,EADgB,uCAAuCsB,KAEpDhB,MAAKI,IACJ,MAAMiB,EAAgB,8BAA8BjB,EAAKO,eAAeP,EAAKkB,yCAAyClB,EAAKmB,wBAC3HtC,EAAQ4B,mBAAmB,YAAaQ,EAAc,IAEvDhB,OAAMC,IACLd,EAAUL,EAAU,IASxBqC,YAAW,WACTpC,EAAUF,E,GACT,I","sources":["src/js/loaders.js","src/js/cat-api.js"],"sourcesContent":["const loadIcon = document.querySelector('.loader');\n\nexport function showLoader() {\n  loadIcon.classList.add('visible');\n}\n\nexport function hideLoader() {\n  loadIcon.classList.remove('visible');\n}\n","import { showLoader, hideLoader } from './loaders';\nimport { errorMsg } from './error';\n\nconst catBreeds =\n  'https://api.thecatapi.com/v1/breeds?api_key=live_Nw845iZS2A8lXgivT8RyWWvksHvJxDQlAMZ3qV7yUJvpqnHbGzuq2nL2AJ2vyjn7';\n\nconst catFilter = document.querySelector('.breed-select');\nconst chosenCatInfo = 'https://api.thecatapi.com/v1/images/search';\nconst catCard = document.querySelector('.cat-info');\nconst loading = document.querySelector('.loader');\nconst errorInfo = document.querySelector('.error');\n\nfunction hideAlert(loader) {\n  loader.classList.add('visible');\n}\n\nfunction showAlert(loader) {\n  loader.classList.remove('visible');\n}\n\nhideAlert(loading);\nhideAlert(errorInfo);\n\nfunction pingUrl(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          reject(errorInfo);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => reject(err));\n  });\n}\n\nfunction fetchBreeds() {\n  pingUrl(catBreeds).then(data => {\n    const catChoices = data\n      .map(dataOne => `<option value='${dataOne.id}'>${dataOne.name}</option>`)\n      .join('');\n    catFilter.insertAdjacentHTML('afterbegin', catChoices);\n  });\n}\nfetchBreeds();\n\nfunction fetchCatByBreed(breedId) {\n  const catUrl = `${chosenCatInfo}?breed_ids=${breedId}`;\n  pingUrl(catUrl)\n    .then(data => {\n      const pictureLink = `<div><img src=\"${data[0].url}\" class= \"cat-pic\"></div>`;\n      catCard.insertAdjacentHTML('afterbegin', pictureLink);\n    })\n    .catch(err => {\n      showAlert(errorInfo);\n    });\n  const catInfo = `https://api.thecatapi.com/v1/breeds/${breedId}`;\n  pingUrl(catInfo)\n    .then(data => {\n      const catDesciption = `<div class = \"cat-txt\"><h1>${data.name}</h1><p>${data.description}</p><h2>Temperament</h2><p>${data.temperament}</p></div>`;\n      catCard.insertAdjacentHTML('beforeend', catDesciption);\n    })\n    .catch(err => {\n      showAlert(errorInfo);\n    });\n}\n\nfunction handleFilterForm(e) {\n  hideAlert(errorInfo);\n  showAlert(loading);\n  catCard.innerHTML = '';\n  fetchCatByBreed(e.target.value);\n  setTimeout(function () {\n    hideAlert(loading);\n  }, 500);\n}\n\ncatFilter.addEventListener('change', handleFilterForm);\n"],"names":["document","querySelector","$c4ebbd28ee7007ee$var$catFilter","$c4ebbd28ee7007ee$var$catCard","$c4ebbd28ee7007ee$var$loading","$c4ebbd28ee7007ee$var$errorInfo","$c4ebbd28ee7007ee$var$hideAlert","loader","classList","add","$c4ebbd28ee7007ee$var$showAlert","remove","$c4ebbd28ee7007ee$var$pingUrl","url","Promise","resolve","reject","fetch","then","response","ok","json","data","catch","err","catChoices","map","dataOne","id","name","join","insertAdjacentHTML","addEventListener","e","breedId","innerHTML","target","value","pictureLink","catDesciption","description","temperament","setTimeout"],"version":3,"file":"index.4ee0478b.js.map"}